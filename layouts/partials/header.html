<nav>
  <ul>
    <li class="pb-0 pt-0">
      <h1 class="mb-0">
        <a href="{{ relURL .Site.Home.RelPermalink }}" aria-label="Home - {{ .Site.Title }}">
          <img src="/images/logo.svg" style="height: 2em;" alt="Logo Plate & Fork">
        </a>
      </h1>
    </li>
  </ul>
  <ul>
    <li>
      <fieldset id="themeForm">
        <label class="pointer" aria-label="Use light theme." title="Use light theme.">
            <input type="radio" name="theme" value="light">&#9728;
        </label>
        <label class="pointer" aria-label="Use dark theme." title="Use dark theme.">
            <input type="radio" name="theme" value="dark">&#9729;
        </label>
      </fieldset>
      <script>
      (() => {
        const userTheme = localStorage.getItem('theme') || null;
        const systemTheme = (window.matchMedia?.('(prefers-color-scheme: dark)').matches ?? false) ? 'dark' : 'light';
        document.querySelector(`input[name="theme"][value="${userTheme || systemTheme}"]`).checked = true;
        function applyTheme(theme) {
          if (theme == null) return
          document.documentElement.setAttribute('data-theme', theme);
        }
        applyTheme(userTheme);

        themeForm.addEventListener('change', e => {
          applyTheme(e.target.value);
          localStorage.setItem('theme', e.target.value);
        });
      })()
      </script>
    </li>
  </ul>
</nav>
<nav>{{- partial "nav.html" . -}}</nav>